C51 COMPILER V9.54   4                                                                     11/15/2019 22:02:17 PAGE 1   


C51 COMPILER V9.54, COMPILATION OF MODULE 4
OBJECT MODULE PLACED IN 4.OBJ
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE 4.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND TABS(2)

line level    source

   1          #include<reg52.h>              //including sfr registers for ports of the controller
   2          
   3          extern bit RS;                                                                   
   4          extern bit EN;                           
   5          extern bit D0;
   6          extern bit D1;
   7          extern bit D2;
   8          extern bit D3;
   9          extern bit D4;
  10          extern bit D5;
  11          extern bit D6;
  12          extern bit D7;
  13          //End LCD Module Connections 
  14          
  15          void Lcd_Delay(int a)
  16          {
  17   1          int j;
  18   1          int i;
  19   1          for(i=0;i<a;i++)
  20   1          {
  21   2              for(j=0;j<100;j++)
  22   2              {
  23   3              }
  24   2          }
  25   1      }
  26          
  27          //LCD 8 Bit Interfacing Functions
  28          void Lcd8_Port(char a)
  29          {
  30   1        if(a & 1)
  31   1          D0 = 1;
  32   1        else 
  33   1          D0 = 0;
  34   1        
  35   1        if(a & 2)
  36   1          D1 = 1;
  37   1        else
  38   1          D1 = 0;
  39   1        
  40   1        if(a & 4)
  41   1          D2 = 1;
  42   1        else
  43   1          D2 = 0;
  44   1        
  45   1        if(a & 8)
  46   1          D3 = 1;
  47   1        else
  48   1          D3 = 0;
  49   1        
  50   1        if(a & 16)
  51   1          D4 = 1;
  52   1        else
  53   1          D4 = 0;
  54   1      
  55   1        if(a & 32)
C51 COMPILER V9.54   4                                                                     11/15/2019 22:02:17 PAGE 2   

  56   1          D5 = 1;
  57   1        else
  58   1          D5 = 0;
  59   1        
  60   1        if(a & 64)
  61   1          D6 = 1;
  62   1        else 
  63   1          D6 = 0;
  64   1        
  65   1        if(a & 128)
  66   1          D7 = 1;
  67   1        else
  68   1          D7 = 0;
  69   1      }
  70          void Lcd8_Cmd(char a)
  71          { 
  72   1        RS = 0;             // => RS = 0
  73   1        Lcd8_Port(a);             //Data transfer
  74   1        EN  = 1;             // => E = 1
  75   1        Lcd_Delay(5);
  76   1        EN  = 0;             // => E = 0
  77   1      }
  78          
  79          Lcd8_Clear()
  80          {
  81   1          Lcd8_Cmd(1);
  82   1      }
  83          
  84          void Lcd8_Set_Cursor(char a, char b)
  85          {
  86   1        if(a == 1)
  87   1          Lcd8_Cmd(0x80 + b);
  88   1        else if(a == 2)
  89   1          Lcd8_Cmd(0xC0 + b);
  90   1      }
  91          
  92          void Lcd8_Init()
  93          {
  94   1        Lcd8_Port(0x00);
  95   1        RS = 0;
  96   1        Lcd_Delay(200);
  97   1        ///////////// Reset process from datasheet /////////
  98   1        Lcd8_Cmd(0x30);
  99   1        Lcd_Delay(50);
 100   1        Lcd8_Cmd(0x30);
 101   1        Lcd_Delay(110);
 102   1        Lcd8_Cmd(0x30);
 103   1        /////////////////////////////////////////////////////
 104   1        Lcd8_Cmd(0x38);    //function set
 105   1        Lcd8_Cmd(0x0C);    //display on,cursor off,blink off
 106   1        Lcd8_Cmd(0x01);    //clear display
 107   1        Lcd8_Cmd(0x06);    //entry mode, set increment
 108   1      }
 109          
 110          void Lcd8_Write_Char(char a)
 111          {
 112   1         RS = 1;             // => RS = 1
 113   1         Lcd8_Port(a);             //Data transfer
 114   1         EN  = 1;             // => E = 1
 115   1         Lcd_Delay(5);
 116   1         EN  = 0;             // => E = 04
 117   1      }
C51 COMPILER V9.54   4                                                                     11/15/2019 22:02:17 PAGE 3   

 118          
 119          void Lcd8_Write_String(char *a)
 120          {
 121   1        int i;
 122   1        for(i=0;a[i]!='\0';i++)
 123   1         Lcd8_Write_Char(a[i]);
 124   1      }
 125          
 126          void Lcd8_Shift_Right()
 127          {
 128   1        Lcd8_Cmd(0x1C);
 129   1      }
 130          
 131          void Lcd8_Shift_Left()
 132          {
 133   1        Lcd8_Cmd(0x18);
 134   1      }
 135          
 136          
 137          //LCD Module Connections
 138          sbit RS = P0^0;                                                                   
 139          sbit EN = P0^1;                            
 140          sbit D0 = P2^0;
 141          sbit D1 = P2^1;
 142          sbit D2 = P2^2;
 143          sbit D3 = P2^3;
 144          sbit D4 = P2^4;
 145          sbit D5 = P2^5;
 146          sbit D6 = P2^6;
 147          sbit D7 = P2^7;
 148          //End LCD Module Connections
 149          
 150          
 151          sbit sw1 = P1^0;
 152          sbit sw2 = P1^1;
 153          sbit sw3 = P1^2;
 154          
 155          void Delay(int a)
 156          {
 157   1          int j;
 158   1          int i;
 159   1          for(i=0;i<a;i++)
 160   1          {
 161   2              for(j=0;j<100;j++)
 162   2              {
 163   3              }
 164   2          }
 165   1      }
 166          
 167          int state = 0;
 168          char c;
 169          void main()
 170          {  
 171   1        int i;
 172   1        int flag;
 173   1        int attendance[10][5];
 174   1          
 175   1        Lcd8_init();    
*** WARNING C206 IN LINE 175 OF 4.c: 'Lcd8_init': missing function-prototype
 176   1        sw1 =1;
 177   1        sw2=1;
 178   1        sw3=1;
C51 COMPILER V9.54   4                                                                     11/15/2019 22:02:17 PAGE 4   

 179   1        i = 1;
 180   1        flag = 1;
 181   1        
 182   1        do{   
 183   2        flag = 0; 
 184   2        Lcd8_Set_Cursor(1,4);   
 185   2        Lcd8_Write_String("Roll no ");
 186   2        Lcd8_Write_Char(i+'0');
 187   2        Lcd8_Set_Cursor(2,0);   
 188   2        Lcd8_Write_String("present");
 189   2        Lcd8_Set_Cursor(2,10);    
 190   2        Lcd8_Write_String("absent");
 191   2        
 192   2        if(sw1==0){
 193   3          attendance[i][1]=1;
 194   3          i++;
 195   3          
 196   3        } 
 197   2        else if(sw3==0){
 198   3          attendance[i][1]=0;
 199   3          i++;
 200   3        }     
 201   2        else if(sw2==0){
 202   3          Lcd8_Clear();
 203   3          Lcd8_Set_Cursor(1,1);
 204   3          Lcd8_Write_Char(attendance[1][1]+'0');
 205   3        }
 206   2          
 207   2        flag=1; 
 208   2        }while(flag == 1);
 209   1        
 210   1       /* while(1)
 211   1        { 
 212   1            
 213   1          
 214   1          /*if(sw2==0){
 215   1            state =!state;
 216   1          }
 217   1          
 218   1          
 219   1          if(state==0) {    
 220   1          Lcd8_Set_Cursor(1,1);
 221   1          Lcd8_Write_String("Attendance");
 222   1          Lcd8_Set_Cursor(2,1);
 223   1          Lcd8_Write_String("  Manager");
 224   1          
 225   1          }
 226   1          
 227   1          else if(state=1){
 228   1            Lcd8_Clear();
 229   1            Lcd8_Set_Cursor(1,1);
 230   1            Lcd8_Write_String("Menu");
 231   1            Delay(5000);
 232   1          }*/
 233   1          
 234   1        //for(i=0;i<3;i++){
 235   1         /* Lcd8_Set_Cursor(1,0);
 236   1          Lcd8_Write_String("Attendance of ");
 237   1          c='0';
 238   1          Lcd8_Write_Char(c); 
 239   1          if(sw3==0){
 240   1            c=c+'1';
C51 COMPILER V9.54   4                                                                     11/15/2019 22:02:17 PAGE 5   

 241   1            Lcd8_Clear();
 242   1            Lcd8_Set_Cursor(1,0);
 243   1            Lcd8_Write_String("Attendance of ");
 244   1            Lcd8_Write_Char(c); 
 245   1          //}*/
 246   1          
 247   1          
 248   1        
 249   1        }
 250              
 251              
 252          
 253            
 254          
 255          
 256          
 257          
*** WARNING C290 IN LINE 82 OF 4.c: missing return value


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    489    ----
   CONSTANT SIZE    =     24    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      3     110
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  2 WARNING(S),  0 ERROR(S)
